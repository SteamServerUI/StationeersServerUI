<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Game Server Control</title>
    <link rel="stylesheet" href="/static/css/style.css">
    <link rel="stylesheet" href="/static/css/base.css">
    <link rel="stylesheet" href="/static/css/components.css">
    <link rel="stylesheet" href="/static/css/tabs.css">
    <link rel="stylesheet" href="/static/css/background.css">
    <link rel="stylesheet" href="/static/css/mobile.css">
    <link rel="stylesheet" href="/static/css/home.css">
    <link rel="stylesheet" href="/static/css/sscm.css">
    <link rel="icon" type="image/x-icon" href="/static/favicon.ico">
    <style>
        .info-notice {
            border: 1px solid #4a90e2;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            background: rgba(74, 144, 226, 0.1);
            color: #e0e0e0;
            box-shadow: 0 2px 8px rgba(74, 144, 226, 0.2);
        }

        .info-notice h3 {
            margin: 0 0 12px 0;
            font-size: 1.1em;
            display: flex;
            align-items: center;
            gap: 8px;
            color: #4a90e2;
        }

        .info-notice p {
            margin: 8px 0;
            line-height: 1.4;
            font-size: 0.9em;
        }

        .info-notice a {
            color: #4a90e2;
            text-decoration: underline;
        }

        .info-notice a:hover {
            color: #7bb3f0;
        }

        .notice-icon {
            display: inline-block;
            font-size: 1.1em;
        }

        .deprecation-warning {
            border: 1px solid #ff9800;
            border-radius: 8px;
            padding: 12px;
            margin: 10px 0;
            background: rgba(255, 152, 0, 0.1);
            color: #ffcc80;
            box-shadow: 0 2px 6px rgba(255, 152, 0, 0.2);
        }

        .deprecation-warning h3 {
            margin: 0 0 8px 0;
            font-size: 1em;
            display: flex;
            align-items: center;
            gap: 6px;
            color: #ff9800;
        }

        .deprecation-warning p {
            margin: 5px 0;
            font-size: 0.85em;
            line-height: 1.3;
        }

        @media (max-width: 768px) {
            .info-notice {
                margin: 10px 5px;
                padding: 12px;
            }

            .info-notice h3 {
                font-size: 1em;
            }

            .info-notice p {
                font-size: 0.85em;
            }

            .deprecation-warning {
                margin: 8px 5px;
                padding: 10px;
            }
        }
    </style>
</head>
<body>
    <div id="space-background"></div>
    <div id="planet-container"></div>
    <header>
        <img src="/static/stationeers.png" alt="Stationeers Banner" id="banner">
        <button onclick="window.location.href = '/auth/logout';" class="logout-icon" title="Logout"></button>
        <button onclick="toggleGPUSaver()" class="gpusaver-icon" title="Save GPU Power by disabling background Animations when navigating away from the UI. Persistent until toggled off."></button>
    </header>
    <main>
        
        <div id="status-indicator" class="status-indicator offline" title="Server status unknown"></div>
        <h1>Stationeers Server UI v{{.Version}} ({{.Branch}})</h1>
        <div id="controls">
            <button onclick="startServer()">Start Server</button>
            <button onclick="stopServer()">Stop Server</button>
            <button onclick="navigateTo('/config')">Config</button>
            <button onclick="navigateTo('/static/apiinfo.html')">API Info</button>
        </div>
        <p id="status" hidden></p>

        <div class="tab-container">
            <div class="tab-buttons">
                <button class="tab-button active" onclick="showTab('console-tab')">Console</button>
                <button class="tab-button" onclick="showTab('detection-tab')">Detection Events</button>
            </div>
            <div id="console-tab" class="tab-content active">
                <div id="console"></div>
            </div>
            <div id="detection-tab" class="tab-content">
                <div id="detection-console"></div>
            </div>
        </div>

        <div id="backups">
            <div class="deprecation-warning">
                <h3>
                    <span class="notice-icon">⚠️</span>
                    When the new Terrain System is released to the public branch, this tool could break.
                    <span class="notice-icon">⚠️</span>
                </h3>
                <p>
                    Due to changes in the way Stationeers handles savegames, StationeerServerUI will not be able to run the Server properly in the latest implementation of the Stationeers Dedicated Server.
                </p>
                <p>
                    I spent hours tinkering with the new Terrain System today (14th of July): We need the Stationeers Developers to re-add a Load-or-create fallback system for Savegames. I raised a Bug report in the Stationeers Discord requesting this feature back.
                </p>
                <p>
                    I'm sorry for the inconvenience. I hope the Stationeers Developers will fix this issue soon. I feel like this was left out momentarily but will be re-added in the future, especially now that someone pointed out the issue. (Hopefully!)
                </p>
                <p>
                    "What should I do?": Sadly, there is no solution for this yet. When the new Terrain System is released to the public branch, switch to the preterrain branch. If there is no solution until the release, a hofix will be released asap to switch you over to the preterrain branch.
                </p>
                <p>
                    There is a chance this impact will be bigger than expected, forcing the Update to V6 and the switch to SteamServerUI to happen sooner than planned. Lets hope this will not be the case.
                </p>
            </div>
            <ul id="backupList"></ul>
        </div>

        <div class="info-notice">
            <h3>
                <span class="notice-icon">ℹ️</span>
                Transitioning to SteamServerUI
            </h3>
            <p>
                <strong>StationeersServerUI (V5)</strong> is evolving into <strong><a href="https://github.com/SteamServerUI/SteamServerUI" target="_blank">SteamServerUI (V6)</a></strong> — a modern, multi-game server management tool that supports any Steam game while keeping Stationeers at its core.
            </p>
            <p>ℹ️ Sit back and relax: If you have auto updates enabled, you'll get notified and guided once V6 is ready. If not, you can check the <a href="https://github.com/SteamServerUI/SteamServerUI/wiki/Migration-from-StationeersServerUI" target="_blank">Migration Guide</a> to plan your transition.</p>
            <p>
                <strong>Why are we doing this?</strong> StationeersServerUI has been great for Stationeers servers with its one-click setups, Discord bots, and smart backups. However, its Stationeers-only focus and retro, hard-to-maintain frontend code limited its potential. SteamServerUI uses the same reliable Go backend but adds a modern Svelte-based UI, desktop app, and flexible system supporting any Steam game — from Satisfactory to Project Zomboid and beyond.
            </p>
            <p>
                <strong>What's changing:</strong> V6 features a sleek new interface, universal Steam game support, and enhanced reliability. While Stationeers-specific features like won't carry over to keep V6 lean and universal, you're gaining a future-proof tool that's easier to use and can grow with you.
            </p>
            <p>
                <strong>Timeline:</strong> Stable SteamServerUI release planned for Q4-2025. StationeersServerUI will continue receiving critical updates until Q42026. See the Roadmap <a href="https://github.com/SteamServerUI/SteamServerUI/wiki/Roadmap" target="_blank">here</a> for more details.
            </p>
        </div>
    </main>

    <discord-button>
        <a href="https://discord.gg/8n3vN92MyJ" target="_blank">
            <img src="https://cdn.discordapp.com/icons/1357524183260729404/3626cdbaa442efdad6e619a65b4f037a.png?size=128&quality=lossless" alt="SSUI Discord" width="40" height="40">
        </a>
    </discord-button>
    <p>Join the Discord and help make SSUI better!</p>

    <footer>
        <div class="copyright">
            Copyright © 2025 <a href="https://github.com/jacksonthemaster">JacksonTheMaster.</a>
            Licensed under <a href="https://github.com/SteamServerUI/StationeersServerUI/blob/main/LICENSE">Proprietary License</a>.
        </div>
    </footer>

    <script src="/sscm/sscm.js"></script>
    <script src="/static/js/ui-utils.js"></script>
    <script src="/static/js/server-api.js"></script>
    <script src="/static/js/console-manager.js"></script>
    <script src="/static/js/main.js"></script>
</body>
</html>